<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[git命令收集]]></title>
      <url>http://localhost:4000/blog/blog/2016/06/07/git-notes/</url>
      <content type="html"><![CDATA[<h3 id="直至某个特定提交，所有文件列表"><a href="#直至某个特定提交，所有文件列表" class="headerlink" title="直至某个特定提交，所有文件列表"></a>直至某个特定提交，所有文件列表</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git ls-tree --name-only -r &lt;commit-ish&gt;</span><br></pre></td></tr></table></figure>
<h3 id="列出冲突文件"><a href="#列出冲突文件" class="headerlink" title="列出冲突文件"></a>列出冲突文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff --name-only --diff-filter=U</span><br></pre></td></tr></table></figure>
<h3 id="一次提交中所有改变的文件"><a href="#一次提交中所有改变的文件" class="headerlink" title="一次提交中所有改变的文件"></a>一次提交中所有改变的文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff-tree --no-commit-id --name-only -r &lt;commit-ish&gt;</span><br></pre></td></tr></table></figure>
<h3 id="列出所有合并到了master的分支"><a href="#列出所有合并到了master的分支" class="headerlink" title="列出所有合并到了master的分支"></a>列出所有合并到了master的分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master &amp;&amp; git branch --merged</span><br></pre></td></tr></table></figure>
<h3 id="删除所有合并到了master的分支"><a href="#删除所有合并到了master的分支" class="headerlink" title="删除所有合并到了master的分支"></a>删除所有合并到了master的分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch --merged | grep -v <span class="string">'\*'</span> | xargs -n 1 git branch <span class="_">-d</span></span><br></pre></td></tr></table></figure>
<h3 id="跟踪远程分支"><a href="#跟踪远程分支" class="headerlink" title="跟踪远程分支"></a>跟踪远程分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -u origin/mybranch</span><br></pre></td></tr></table></figure>
<h3 id="撤销本地修改"><a href="#撤销本地修改" class="headerlink" title="撤销本地修改"></a>撤销本地修改</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- &lt;file_name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="修改远端仓库url-如origin"><a href="#修改远端仓库url-如origin" class="headerlink" title="修改远端仓库url(如origin)"></a>修改远端仓库url(如origin)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote <span class="built_in">set</span>-url origin &lt;URL&gt;</span><br></pre></td></tr></table></figure>
<h3 id="提交某个文件的部分修改"><a href="#提交某个文件的部分修改" class="headerlink" title="提交某个文件的部分修改"></a>提交某个文件的部分修改</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add -p</span><br></pre></td></tr></table></figure>
<h3 id="检查最近几周内的变更"><a href="#检查最近几周内的变更" class="headerlink" title="检查最近几周内的变更"></a>检查最近几周内的变更</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git whatchanged --since=<span class="string">'3 weeks ago'</span></span><br></pre></td></tr></table></figure>
<h3 id="选择需要的提交"><a href="#选择需要的提交" class="headerlink" title="选择需要的提交"></a>选择需要的提交</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git cherry-pick &lt;commit-ish&gt;</span><br></pre></td></tr></table></figure>
<h3 id="查看所有track的文件和未track的文件"><a href="#查看所有track的文件和未track的文件" class="headerlink" title="查看所有track的文件和未track的文件"></a>查看所有track的文件和未track的文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git ls-files -t</span><br><span class="line">$ git ls-files --others</span><br></pre></td></tr></table></figure>
<h3 id="强制删除未track的文件-amp-文件夹"><a href="#强制删除未track的文件-amp-文件夹" class="headerlink" title="强制删除未track的文件 &amp; 文件夹"></a>强制删除未track的文件 &amp; 文件夹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git clean <span class="_">-f</span></span><br><span class="line">$ git clean -df</span><br></pre></td></tr></table></figure>
<h3 id="更新所有子模块"><a href="#更新所有子模块" class="headerlink" title="更新所有子模块"></a>更新所有子模块</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git submodule foreach git pull</span><br></pre></td></tr></table></figure>
<h3 id="查看需要合并到master的commit"><a href="#查看需要合并到master的commit" class="headerlink" title="查看需要合并到master的commit"></a>查看需要合并到master的commit</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git cherry -v master</span><br><span class="line">$ git cherry -v master &lt;branch-to-be-merged&gt;</span><br></pre></td></tr></table></figure>
<h3 id="重命名分支"><a href="#重命名分支" class="headerlink" title="重命名分支"></a>重命名分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -m [&lt;old-branch-name&gt;] &lt;new-branch-name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="打包分支"><a href="#打包分支" class="headerlink" title="打包分支"></a>打包分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git archive master --format=zip --output=master.zip</span><br></pre></td></tr></table></figure>
<h3 id="去除远端已删除分支的引用"><a href="#去除远端已删除分支的引用" class="headerlink" title="去除远端已删除分支的引用"></a>去除远端已删除分支的引用</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch -p</span><br></pre></td></tr></table></figure>
<h3 id="获取初始提交的hash值"><a href="#获取初始提交的hash值" class="headerlink" title="获取初始提交的hash值"></a>获取初始提交的hash值</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rev-list --reverse HEAD | head -1</span><br></pre></td></tr></table></figure>
<h3 id="将分支和历史打包到文件"><a href="#将分支和历史打包到文件" class="headerlink" title="将分支和历史打包到文件"></a>将分支和历史打包到文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git bundle create &lt;file&gt; &lt;branch-name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="从打包文件中导入"><a href="#从打包文件中导入" class="headerlink" title="从打包文件中导入"></a>从打包文件中导入</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> repo.bundle &lt;repo-dir&gt; -b &lt;branch-name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="获取当前分支名字"><a href="#获取当前分支名字" class="headerlink" title="获取当前分支名字"></a>获取当前分支名字</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rev-parse --abbrev-ref HEAD</span><br></pre></td></tr></table></figure>
<h3 id="rebase前stash内容"><a href="#rebase前stash内容" class="headerlink" title="rebase前stash内容"></a>rebase前stash内容</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase --autostash</span><br></pre></td></tr></table></figure>
<h3 id="目前分支的最新tag"><a href="#目前分支的最新tag" class="headerlink" title="目前分支的最新tag"></a>目前分支的最新tag</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git describe --tags --abbrev=0</span><br></pre></td></tr></table></figure>
<h3 id="同一行内diff"><a href="#同一行内diff" class="headerlink" title="同一行内diff"></a>同一行内diff</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff --word-diff</span><br></pre></td></tr></table></figure>
<h3 id="清楚-gitignore里的文件"><a href="#清楚-gitignore里的文件" class="headerlink" title="清楚.gitignore里的文件"></a>清楚.gitignore里的文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clean -X <span class="_">-f</span></span><br></pre></td></tr></table></figure>
<h3 id="恢复删除掉的文件"><a href="#恢复删除掉的文件" class="headerlink" title="恢复删除掉的文件"></a>恢复删除掉的文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout &lt;deleting_commit&gt;^ -- &lt;file_path&gt;</span><br></pre></td></tr></table></figure>
<h3 id="将特定文件恢复到某个提交的版本"><a href="#将特定文件恢复到某个提交的版本" class="headerlink" title="将特定文件恢复到某个提交的版本"></a>将特定文件恢复到某个提交的版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout &lt;commit-ish&gt; -- &lt;file_path&gt;</span><br></pre></td></tr></table></figure>
<h3 id="pull时使用rebase代替merge"><a href="#pull时使用rebase代替merge" class="headerlink" title="pull时使用rebase代替merge"></a>pull时使用rebase代替merge</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global branch.autosetuprebase always</span><br></pre></td></tr></table></figure>
<h3 id="git所有配置"><a href="#git所有配置" class="headerlink" title="git所有配置"></a>git所有配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --list</span><br></pre></td></tr></table></figure>
<h3 id="设置大小写敏感"><a href="#设置大小写敏感" class="headerlink" title="设置大小写敏感"></a>设置大小写敏感</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global core.ignorecase <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h3 id="git命令自动修正"><a href="#git命令自动修正" class="headerlink" title="git命令自动修正"></a>git命令自动修正</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global help.autocorrect 1</span><br></pre></td></tr></table></figure>
<h3 id="标记提交为之前提交的fix"><a href="#标记提交为之前提交的fix" class="headerlink" title="标记提交为之前提交的fix"></a>标记提交为之前提交的fix</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit --fixup &lt;SHA-1&gt;</span><br></pre></td></tr></table></figure>
<h3 id="将标记为fix的提交自动合并到对应的提交里"><a href="#将标记为fix的提交自动合并到对应的提交里" class="headerlink" title="将标记为fix的提交自动合并到对应的提交里"></a>将标记为fix的提交自动合并到对应的提交里</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i --autosquash</span><br></pre></td></tr></table></figure>
<h3 id="ignore文件的状态"><a href="#ignore文件的状态" class="headerlink" title="ignore文件的状态"></a>ignore文件的状态</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git status --ignored</span><br></pre></td></tr></table></figure>
<h3 id="branch1有，但是branch2没有的提交"><a href="#branch1有，但是branch2没有的提交" class="headerlink" title="branch1有，但是branch2没有的提交"></a>branch1有，但是branch2没有的提交</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> Branch1 ^Branch2</span><br></pre></td></tr></table></figure>
<h3 id="显示未压缩对象数量和磁盘消耗"><a href="#显示未压缩对象数量和磁盘消耗" class="headerlink" title="显示未压缩对象数量和磁盘消耗"></a>显示未压缩对象数量和磁盘消耗</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git count-objects --human-readable</span><br></pre></td></tr></table></figure>
<h3 id="从对象数据库中去除所有不可及的对象"><a href="#从对象数据库中去除所有不可及的对象" class="headerlink" title="从对象数据库中去除所有不可及的对象"></a>从对象数据库中去除所有不可及的对象</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git gc --prune=now --aggressive</span><br></pre></td></tr></table></figure>
<h3 id="新建一个没有历史的分支"><a href="#新建一个没有历史的分支" class="headerlink" title="新建一个没有历史的分支"></a>新建一个没有历史的分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout --orphan &lt;branch_name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="对staged的文件做diff"><a href="#对staged的文件做diff" class="headerlink" title="对staged的文件做diff"></a>对staged的文件做diff</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff --staged</span><br></pre></td></tr></table></figure>
<h3 id="查看其它分支的特定文件"><a href="#查看其它分支的特定文件" class="headerlink" title="查看其它分支的特定文件"></a>查看其它分支的特定文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git show &lt;banch_name&gt;:&lt;file_name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="查看未合并到当前分支的分支"><a href="#查看未合并到当前分支的分支" class="headerlink" title="查看未合并到当前分支的分支"></a>查看未合并到当前分支的分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch --no-merged</span><br></pre></td></tr></table></figure>
<h3 id="只显示root和merge提交"><a href="#只显示root和merge提交" class="headerlink" title="只显示root和merge提交"></a>只显示root和merge提交</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --first-parent</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
  
  
</search>
